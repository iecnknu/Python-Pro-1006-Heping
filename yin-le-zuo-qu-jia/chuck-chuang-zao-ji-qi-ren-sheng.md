# ChucK - å‰µé€ æ©Ÿå™¨äººè²

ChucKæ˜¯ä¸€å€‹ç”¨ç¨‹å¼ç¢¼è¡¨é”éŸ³æ¨‚çš„ç¨‹å¼èªè¨€ï¼Œå› ç‚ºæ”¯æŒLinux,Windowså’ŒMacOS Xç­‰å¤§å‹ä½œæ¥­ç³»çµ±è€Œå»£å—æ­¡è¿ã€‚  
ChucKçš„èªæ³•æ ¼å¼èˆ‡C++é¡ä¼¼ï¼Œå¦‚ifæ¢ä»¶ã€è¿´åœˆæ§åˆ¶ã€å‡½æ•¸ã€é¡åˆ¥ç­‰éƒ½éå¸¸é¡æ˜¯æ–¼C++ã€‚  
ä½†ä¹Ÿæœ‰ä¸€äº›ç´°å¾®å€åˆ¥ï¼Œæœ€å¤§çš„å€åˆ¥åœ¨æ–¼ã€=&gt;ã€‘\(ç­‰æ–¼+å¤§æ–¼\)ç¬¦è™Ÿï¼Œé€™æ˜¯åœ¨ChucKä¸­ç”¨å¾—ç‰¹åˆ¥å¤šçš„ç¬¦è™Ÿã€‚  
å®ƒè¢«ç”¨ä¾†åšè®Šæ•¸è¦†å€¼ï¼š

C++èªæ³•çš„è®Šæ•¸è¦†å€¼

```cpp
int i = 0;
```

ChucKèªæ³•çš„è®Šæ•¸è¦†å€¼

```ChucK
0 => int i;
```

é€™è£¡æˆ‘å€‘å°‡ç¤ºç¯„å¦‚ä½•è®“éŸ³æ¨‚èˆ‡DAC\(æ•¸ä½é¡æ¯”è½‰æ›å™¨\)åšé€£çµï¼Œé€²è€Œå¾å–‡å­ä¸­æ’­æ”¾è²éŸ³ã€‚  
ä¹Ÿæœƒç¤ºç¯„å„ç¨®é »ç‡ã€æ³¢å½¢ã€éœ‡å¹…å°è²éŸ³çš„å½±éŸ¿ã€‚

---

##### ğŸ—’ï¸å®‰è£ChucK

å®˜æ–¹å®‰è£ç¶²ç«™ï¼š[http://chuck.cs.princeton.edu/release/](http://chuck.cs.princeton.edu/release/)  
å‚™ç”¨ä¸‹è¼‰é€£çµï¼š[https://goo.gl/uNC9H9](https://goo.gl/uNC9H9)

è«‹å¤§å®¶ä¾ç…§ä½ çš„ä½œæ¥­ç³»çµ±é¸æ“‡å®‰è£çš„ç‰ˆæœ¬ã€‚

![](/assets/Chuck-1.png)

ä¸‹è¼‰å®Œæˆå¾Œæœƒå¾—åˆ°ä¸€å€‹ã€chuck-1.4.0.0.msiã€‘ï¼Œé»æ“Šå¾Œé–‹å§‹å®‰è£ã€‚

![](/assets/Chuck-2.png)

![](/assets/Chuck-3.png)

---

##### ğŸ—’ï¸é–‹å•ŸChucK

åœ¨é›»è…¦ä¸­æ‰¾åˆ°Chuckï¼Œæ‰“é–‹åå­—å«åšã€miniAudicleã€‘çš„ç·¨è¼¯å™¨ã€‚  
å•Ÿå‹•å¾ŒæœƒåŒæ™‚æ‰“é–‹ä¸‰å€‹è¦–çª—ï¼šç·¨è¼¯å™¨\(å¯«ç¨‹å¼çš„åœ°æ–¹\)ã€è™›æ“¬æ©Ÿ\(å¯ä»¥åŒæ™‚è™•ç†å¾ˆå¤šè²é“\)ã€Logæ—¥èªŒ\(æ“ä½œçš„éç¨‹\)

![](/assets/Chuck-4.png)

é¦–å…ˆæ‰“é–‹è™›æ“¬æ©Ÿï¼Œè«‹æŒ‰ä¸‹ã€Start Virtual Machineã€‘ã€‚å¯ä»¥ç™¼ç¾ç·¨è¼¯å™¨ä¸Šé¢çš„æŒ‰éˆ•è®Šé¡è‰²å›‰ï¼

![](/assets/Chuck-5.png)

---

##### ğŸ—’ï¸ç·¨è¼¯ChucK

æ‰“é–‹ã€miniAudicleç·¨è¼¯å™¨ã€‘ï¼Œè¼¸å…¥ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼ŒæŒ‰ä¸‹ã€Add Shredã€‘å°‡é€™æ®µè²éŸ³åŠ å…¥è™›æ“¬æ©Ÿé‹è¡Œã€‚

```ChucK
SinOsc s => dac;
440 => s.freq;
0.6 => s.gain;
1::second => now;
```

![](/assets/Chuck-6.png)

é€™æ®µç¨‹å¼ç¢¼åšäº†å“ªäº›äº‹è®“é›»è…¦ç™¼å‡ºè²éŸ³å‘¢ï¼Ÿæˆ‘å€‘ä¸€è¡Œä¸€è¡Œä¾†è§£æï¼š

1.

```
SinOsc s => dac;
```

é–‹ä¸€å€‹æ–°çš„sineæ³¢ï¼Œåå« ã€sã€‘ï¼Œæ”¾åˆ°dac \(digital-audio converter\)å³æ˜¯å‚³é€åˆ°å–‡å­ç™¼è²ã€‚

2.

```
440 => s.freq;
```

è¨­å®šæ³¢çš„ã€é »ç‡frequencyã€‘ï¼Œæˆ‘å€‘æŠŠé »ç‡è¨­å®šæˆ440hzï¼Œä¹Ÿå°±æ˜¯æˆ‘å€‘çš„A4\(LaéŸ³\)ã€‚

3.

```
0.6 => s.gain;
```

è¨­å®šæ³¢çš„éœ‡å¹…ï¼Œgainçš„æ„æ€æ˜¯å¢å¼·ï¼Œ0.6è¡¨ç¤ºç‚ºåŸæœ¬é è¨­çš„0.6å€ã€‚

4.

```
1::second => now;
```

è¨­å®šæ’­æ”¾æ™‚é–“ç‚º1ï¼Œå–®ä½å®šç¾©ç‚ºsecond\(ç§’\)ã€‚

---

##### ğŸ¤”æƒ³æƒ³çœ‹

æˆ‘å€‘é€éã€Oscillatoré›»å­æŒ¯ç›ªå™¨ã€‘ä¾†ç”¢ç”Ÿå…·æœ‰å‘¨æœŸæ€§çš„é¡æ¯”è¨Šè™Ÿ\(é«˜é›»ç‚ºä½é›»ä½çš„è½‰æ›\)ã€‚  
è€Œé›»å­éœ‡ç›ªå™¨ä¸¦ä¸åªæœ‰èƒ½ç”¢ç”Ÿsineæ³¢ï¼ŒåŒæ™‚é‚„æœ‰Triangleæ³¢ã€Squareæ³¢å’ŒSawToothæ³¢ç­‰ã€‚

![](/assets/Chuck-7.png)

æ ¹æ“šæˆ‘å€‘ä¸Šä¸€ç« çš„èªªæ˜ï¼Œæ³¢å½¢æœƒå½±éŸ¿è²éŸ³çš„éŸ³è‰²ã€‚  
æ„æ€å°±æ˜¯ï¼Œæˆ‘æŠŠä¸€æŠŠå°æç´å’Œä¸€éš»å–®ç°§ç®¡çš„é »ç‡è¨­å®šæˆ440hzï¼ŒæŒ¯å¹…ä¹Ÿç›¸åŒï¼Œä½†åœ¨æˆ‘å€‘äººè€³ä¸­è½èµ·ä¾†é‚„æ˜¯ä¸ä¸€æ¨£ã€‚

ç¾åœ¨è«‹å¤§å®¶å°‡ç¬¬ä¸€è¡Œçš„Sineæ³¢

```
SinOsc s => dac;
```

ä¾åºæ”¹æˆä¸åŒçš„æ³¢å½¢ï¼Œè½è½çœ‹è²éŸ³ç™¼ç”Ÿäº†ä»€éº¼è®ŠåŒ–ï¼Ÿ

Squareæ³¢

```
SqrOsc s => dac;
```

Triangleæ³¢

```
TriOsc s3 => dac;
```

SawToothæ³¢

```
SawOsc s4 => dac;
```

---

##### ğŸ—’ï¸æ©Ÿå™¨äººè²

åœ¨æ—©æœŸçš„é›»å½±ä¸­ï¼Œæ©Ÿå™¨äººçš„è²éŸ³å°±æ˜¯åˆ©ç”¨é€™äº›æ³¢çš„ç‰¹æ€§ç–ŠåŠ èåˆè€Œä¾†çš„ã€‚  
å®ƒå€‘æœƒåˆ»æ„è®“é«˜é »éŸ³ã€ä½é »éŸ³é »ç¹çš„äº¤éŒ¯ï¼Œå‰µé€ å‡ºæ¨¡ä»¿äººé¡èªªè©±çš„æŠ‘æšé “æŒ«ã€‚

![](/assets/Chuck-8.png)

é€™æ¬¡æˆ‘å€‘ä½¿ç”¨ä¸€å€‹ç„¡çª®çš„Whileè¿´åœˆï¼Œ  
åœ¨æ¯æ¬¡é‹ä½œæ™‚éƒ½éš¨æ©Ÿäº‚æ•¸ä¸€å€‹20hzï½1500hzçš„é »ç‡æŒ‡å®šçµ¦æˆ‘å€‘çš„æ³¢ï¼Œ  
æœ€å¾Œæ¯å€‹è²éŸ³éƒ½åªç¶­æŒ0.125ç§’ã€‚

```ChucK
SinOsc s => dac;
0.6 => s.gain;

while(true)
{
    Math.random2f(20,1500) => s.freq;
    0.125::second => now;
}
```

---

##### ğŸ—’ï¸å¢œè½çš„è²éŸ³

å¾é«˜è™•å¢œè½çš„è²éŸ³ï¼Œå…¶å¯¦å°±æ˜¯è®“è²éŸ³å¾é«˜é »ç‡ä¸€ç›´é™åˆ°åˆ°ä½é »ç‡ã€‚

![](/assets/Chuck-9.png)

```
SinOsc s => dac;
3000.0 => float fall;
3000 => s.freq;

while(fall > 0)
{
    10 -=> fall;
    fall => s.freq;
    0.01::second => now;
}
```

---

##### ğŸ—’ï¸é›·å°„æ§çš„è²éŸ³

è®“å¢œè½çš„è²éŸ³åŠ å¿«å€‹100å€ã€‚  
ä¸¦ä¸”æ”¹ç”¨Squareæ³¢ã€‚

![](/assets/Chuck-10.png)

```
SqrOsc s => dac;
20000.0 => float fall;
20000 => s.freq;

while(fall > 0)
{
    20 -=> fall;
    fall => s.freq;
    0.0001::second => now;
}
```

---

å¦‚æœå¤§å®¶å°ChucKé€™å€‹ç¨‹å¼èªè¨€æœ‰èˆˆè¶£ï¼Œå¯ä»¥åˆ°[å®˜æ–¹APIæ–‡ä»¶](http://chuck.cs.princeton.edu/doc/program/stdlib.html)æˆ–è€…[æ•™å­¸ç¶²ç«™](http://apprize.info/programming/chuck/5.html)é€²ä¸€æ­¥å­¸ç¿’å–”ï¼

